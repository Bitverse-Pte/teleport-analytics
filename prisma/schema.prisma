// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model TelegramChatMember {
  id    Int @default(autoincrement()) @id
  // telegram user's id
  userId Decimal @db.Decimal(65, 0)
  // group's id
  groupId Decimal @db.Decimal(65, 0)

  joinAt DateTime @default(now())

  messageCount Int @default(0)
  lastSeen DateTime @default(now())
  activeDays Int @default(0)
}

model TelegramGroupDailyStat {
  id    Int     @default(autoincrement()) @id
  // telegram group id
  groupId Decimal @db.Decimal(65, 0)
  date  DateTime @default(now())

  newMemberCount Int
  messageCount Int
  // active member means anyone that send at least 1 message in group
  activeMemberCount Int
  totalMemberCount Int
}
